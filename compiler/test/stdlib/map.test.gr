import Map from 'map'

# With Number keys
let nums = Map.make();

assert Map.set(1, "ğŸŒ¾", nums) == void;
assert Map.set(2, "ğŸ‘", nums) == void;
assert Map.set(3, "ğŸ§±", nums) == void;

assert Map.get(1, nums) == Some("ğŸŒ¾");
assert Map.get(2, nums) == Some("ğŸ‘");
assert Map.get(3, nums) == Some("ğŸ§±");
assert Map.get(4, nums) == None;

# With String keys
let strs = Map.make();

assert Map.set("ğŸŒ¾", 1, strs) == void;
assert Map.set("ğŸ‘", 2, strs) == void;
assert Map.set("ğŸ§±", 3, strs) == void;

assert Map.get("ğŸŒ¾", strs) == Some(1);
assert Map.get("ğŸ‘", strs) == Some(2);
assert Map.get("ğŸ§±", strs) == Some(3);
assert Map.get("ğŸŒ³", strs) == None;

# With variant keys
data Resource = Grain | Sheep | Brick | Wood;

let vars = Map.make();

assert Map.set(Grain, "ğŸŒ¾", vars) == void;
assert Map.set(Sheep, "ğŸ‘", vars) == void;
assert Map.set(Brick, "ğŸ§±", vars) == void;

assert Map.get(Grain, vars) == Some("ğŸŒ¾");
assert Map.get(Sheep, vars) == Some("ğŸ‘");
assert Map.get(Brick, vars) == Some("ğŸ§±");
assert Map.get(Wood, vars) == None;

# With record keys
data ResourceData = { name: String, emoji: String }

let recs = Map.make();

assert Map.set({ name: "Grain", emoji: "ğŸŒ¾" }, 1, recs) == void;
assert Map.set({ name: "Sheep", emoji: "ğŸ‘" }, 2, recs) == void;
assert Map.set({ name: "Brick", emoji: "ğŸ§±" }, 3, recs) == void;

assert Map.get({ name: "Grain", emoji: "ğŸŒ¾" }, recs) == Some(1);
assert Map.get({ name: "Sheep", emoji: "ğŸ‘" }, recs) == Some(2);
assert Map.get({ name: "Brick", emoji: "ğŸ§±" }, recs) == Some(3);
assert Map.get({ name: "Wood", emoji: "ğŸŒ³" }, recs) == None;

# Overwriting data
assert Map.set(1, "ğŸ‘", nums) == void;
assert Map.set(1, "ğŸŒ¾", nums) == void;

assert Map.get(1, nums) == Some("ğŸŒ¾");
